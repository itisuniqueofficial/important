document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".option"),t=document.getElementById("attemptedCount"),n=document.getElementById("correctCount"),c=document.getElementById("wrongCount"),o=document.getElementById("percentage"),r=document.getElementById("retryBtn"),s=new Set;function a(e){totalQuestions++,e&&(correctAnswers++),t.textContent=totalQuestions,n.textContent=correctAnswers,c.textContent=totalQuestions-correctAnswers,o.textContent=(correctAnswers/totalQuestions*100).toFixed(2)+"%"}function i(){location.reload()}function l(){e.forEach(e=>{e.removeEventListener("click",h),e.style.pointerEvents="none"}),r.style.display="block"}function h(t){const n=t.target,c=n.getAttribute("data-question"),o=n.getAttribute("data-correct")==="true";s.has(c)||(e.forEach(e=>{e.getAttribute("data-question")===c&&(e.classList.remove("selected","correct","wrong"),e===n&&(e.classList.add("selected"),o?e.classList.add("correct"):(e.classList.add("wrong"),e=>{if(e.getAttribute("data-question")===c&&e.getAttribute("data-correct")==="true"){e.classList.add("correct")}}),a(o),s.add(c))}));const r=document.querySelector(`.explanation[data-question="${c}"]`);r&&(r.style.display="block"),totalQuestions===questions.length&&l()}const u=document.createElement("div");u.classList.add("timer"),document.querySelector(".quiz-container").appendChild(u);let d=10,f=setInterval(()=>{u.textContent=`Time Left: ${d} seconds`,d--,d<0&&(clearInterval(f),l())},1e3);const q=Array.from(document.querySelectorAll(".question")),m=(e=>{for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e})(q);m.forEach((e,t)=>{e.style.order=t+1}),e.forEach(e=>{e.addEventListener("click",h)}),r.addEventListener("click",i)});
